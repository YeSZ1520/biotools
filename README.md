# biotools

## 1. 脂肪酸色谱比对工具

用于比对标准样品与实验样品的脂肪酸色谱数据，生成比对结果 Excel 文件。

### 1.1 输入

表头均为参考，实际文件中可为任意文本，但列顺序需保持一致，以整数峰号判定数据行。

#### 1.1.1 标准样品文件

Excel 文件，以 6 列组成，包含以下列：

- A 列: 峰号，允许任意整数
- B 列：化学组成，如 C16:0，允许任意文本
- C 列：脂肪酸名称，如 棕榈酸，允许任意文本
- D 列：保留时间，允许任意浮点数
- E 列：峰面积百分比，允许任意浮点数
- F 列：峰面积，允许任意浮点数

样例：
| 峰号 | 化学组成 | 脂肪酸名称 | 保留时间 | 峰面积百分比 | 峰面积 |
| ---- | -------- | ---------- | -------- | ------------ | ------- |
| 1 | C14:0 | 肉豆蔻酸 | 12 | 0.5 | 1000 |

#### 1.1.2 实验样品文件

Excel 文件，以多列组成，允许空行空列，每 4 列为一组，包含以下列：

- A 列: 峰号，允许任意整数
- B 列：保留时间，允许任意浮点数
- C 列：峰面积百分比，允许任意浮点数
- D 列：峰面积，允许任意浮点数

样例：
| 峰号 | 保留时间 | 峰面积百分比 | 峰面积 |
| ---- | -------- | ------------ | ------- |
| 1 | 12.1 | 0.4 | 800 |

### 1.2 输出

生成 Excel 文件，包含以下列：

- A 列：组别
- B 列：峰号
- C 列：保留时间
- D 列：峰面积
- E 列：面积百分比
- F 列：名称
- G 列：相对偏差，公式如下：
  $$相对偏差 = \frac{样品峰面积 - 标品峰面积}{标品峰面积}$$

### 1.3 配置使用

#### 1.3.1 配置文件

在项目根目录下创建 `config.yaml` 文件，内容如下：

```yaml
fatty_acid:
  standard_file: "standard.xlsx" # 标准样品文件路径
  experimental_file: "experimental.xlsx" # 实验样品文件路径
  output_file: "processed_data.xlsx" # 输出文件路径
  area_threshold: 1.0 # 面积百分比阈值，低于该阈值则忽略该峰

log:
  level: "info" # 日志级别，可选值：debug, info
  file_path: "" # 日志文件路径，留空则不写入文件
```

#### 1.3.2 运行程序
运行`fatty-acid`程序，程序会根据配置文件中的路径读取输入文件，处理数据后生成输出文件。
